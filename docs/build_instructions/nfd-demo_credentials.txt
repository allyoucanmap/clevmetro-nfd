Code
----

https://github.com/geosolutions-it/clevmetro-nfd

user: pass
------  --------
user_001: upis111
user_002: upis112
user_003: upis113
user_004: upis114

Currently, there are the following permissions:
user_001: fungus_writer, slimemold_writer
user_002: animal_writer, fungus_publisher, slimemold_publisher
user_003: animal_publisher
user_004: animal_publisher, animal_writer

You can create additional users and assign permissions from https://dev.nfd.geo-solutions.it/phpldapadmin/, using the following admin user:
"cn=admin,dc=Metroparks,dc=local": kwNw8iqzr9p (without quotes).

- Modifications on first (species) and second (ElementSpecies) tabs are stored, but a species must be first selected using the search field on the top of the form. 
  This is only necessary when creating an occurrence, as there is always a selected species afterwards.

- You can't create new species nor delete existing ones from the client. It is assumed that the whole ITIS database will be loaded on the app and available for species selection

- There is also a Django administration interface which can be used to create/update/delete species if needed, and also to update any of the other dictionary tables.
  You need to access with a user that belongs to LDAP "nfdadmins" group (currently user_004). It is available on https://dev.nfd.geo-solutions.it/nfdapi/admin/  




Test Server
===========

http://test.nfd.geo-solutions.it

DB -> user : metroparksnfd / metroparksnfd

http://test.nfd.geo-solutions.it/nfdapi/admin/login/?next=/nfdapi/admin/nfdcore/

LDAP -> http://test.nfd.geo-solutions.it/phpldapadmin
        admin / 1geosolutions2

LDIFs  (Test Server)
====================

    settings.py
    ===========

        AUTH_LDAP_SERVER_URI = "ldap://test.nfd.geo-solutions.it:389"


        """
        Configuration for OpenLDAP
        """
        AUTH_LDAP_BIND_DN = "cn=admin,dc=nfd,dc=geo-solutions,dc=it"
        AUTH_LDAP_BIND_PASSWORD = "1geosolutions2"
        AUTH_LDAP_USER_SEARCH = LDAPSearch("dc=nfd,dc=geo-solutions,dc=it",
            ldap.SCOPE_SUBTREE, "(uid=%(user)s)")


        AUTH_LDAP_GROUP_SEARCH = LDAPSearch("ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            ldap.SCOPE_SUBTREE
        )
        AUTH_LDAP_GROUP_TYPE = PosixGroupType()

        #AUTH_LDAP_FIND_GROUP_PERMS = True
        #AUTH_LDAP_CACHE_GROUPS = True
        #AUTH_LDAP_GROUP_CACHE_TIMEOUT = 300
        AUTH_LDAP_MIRROR_GROUPS = True

        AUTH_LDAP_USER_FLAGS_BY_GROUP = {
            "is_staff": "cn=nfdadmins,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_superuser": "cn=nfdadmins,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_plant_writer": "cn=plant_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_plant_publisher": "cn=plant_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_animal_writer": "cn=animal_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_animal_publisher": "cn=animal_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_slimemold_writer": "cn=slimemold_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_slimemold_publisher": "cn=slimemold_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_fungus_writer": "cn=fungus_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_fungus_publisher": "cn=fungus_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_naturalarea_writer": "cn=naturalarea_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it",
            "is_naturalarea_publisher": "cn=naturalarea_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it"
        }

    LDIFFs
    ======
# LDIF Export for dc=nfd,dc=geo-solutions,dc=it
# Server: Cleveland Metroparks LDAP Server (127.0.0.1)
# Search Scope: sub
# Search Filter: (objectClass=*)
# Total Entries: 19
#
# Generated by phpLDAPadmin (http://phpldapadmin.sourceforge.net) on October 4, 2017 11:10 am
# Version: 1.2.2

version: 1

# Entry 1: dc=nfd,dc=geo-solutions,dc=it
dn: dc=nfd,dc=geo-solutions,dc=it
dc: nfd
o: Metroparks
objectclass: top
objectclass: dcObject
objectclass: organization

# Entry 2: cn=admin,dc=nfd,dc=geo-solutions,dc=it
dn: cn=admin,dc=nfd,dc=geo-solutions,dc=it
cn: admin
description: LDAP administrator
objectclass: simpleSecurityObject
objectclass: organizationalRole
userpassword: {SSHA}4zqtj2VfwOR0C2pZgrQAAK+X/PQG30j7

# Entry 3: ou=groups,dc=nfd,dc=geo-solutions,dc=it
dn: ou=groups,dc=nfd,dc=geo-solutions,dc=it
objectclass: organizationalUnit
objectclass: top
ou: groups

# Entry 4: cn=animal_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it
dn: cn=animal_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: animal_publisher
gidnumber: 503
memberuid: user_003
memberuid: user_004
objectclass: posixGroup
objectclass: top

# Entry 5: cn=animal_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it
dn: cn=animal_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: animal_writer
gidnumber: 504
memberuid: user_002
memberuid: user_004
objectclass: posixGroup
objectclass: top

# Entry 6: cn=fungus_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it
dn: cn=fungus_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: fungus_publisher
gidnumber: 508
memberuid: user_002
objectclass: posixGroup
objectclass: top

# Entry 7: cn=fungus_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it
dn: cn=fungus_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: fungus_writer
gidnumber: 507
memberuid: user_001
objectclass: posixGroup
objectclass: top

# Entry 8: cn=naturalarea_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=...
dn: cn=naturalarea_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: naturalarea_publisher
gidnumber: 511
objectclass: posixGroup
objectclass: top

# Entry 9: cn=naturalarea_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it
dn: cn=naturalarea_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: naturalarea_writer
gidnumber: 510
objectclass: posixGroup
objectclass: top

# Entry 10: cn=nfdadmins,ou=groups,dc=nfd,dc=geo-solutions,dc=it
dn: cn=nfdadmins,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: nfdadmins
gidnumber: 509
memberuid: user_004
objectclass: posixGroup
objectclass: top

# Entry 11: cn=plant_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it
dn: cn=plant_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: plant_publisher
gidnumber: 505
memberuid: user_003
memberuid: user_004
objectclass: posixGroup
objectclass: top

# Entry 12: cn=plant_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it
dn: cn=plant_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: plant_writer
gidnumber: 501
memberuid: user_004
memberuid: user_002
objectclass: posixGroup
objectclass: top

# Entry 13: cn=slimemold_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=i...
dn: cn=slimemold_publisher,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: slimemold_publisher
gidnumber: 506
memberuid: user_002
objectclass: posixGroup
objectclass: top

# Entry 14: cn=slimemold_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it
dn: cn=slimemold_writer,ou=groups,dc=nfd,dc=geo-solutions,dc=it
cn: slimemold_writer
gidnumber: 502
memberuid: user_001
objectclass: posixGroup
objectclass: top

# Entry 15: ou=users,dc=nfd,dc=geo-solutions,dc=it
dn: ou=users,dc=nfd,dc=geo-solutions,dc=it
objectclass: organizationalUnit
objectclass: top
ou: users

# Entry 16: uid=user_001,dc=nfd,dc=geo-solutions,dc=it
dn: uid=user_001,dc=nfd,dc=geo-solutions,dc=it
cn: User
mail: cesar.izq@gmail.com
mobile: 768687564
objectclass: inetOrgPerson
objectclass: top
postaladdress: Carrer Sense nom
sn: 001
street: Carrer sense nom street
telephonenumber: 23423423424
uid: user_001
userpassword: {MD5}1GHwE8KaE3IAZNraDyEw0Q==
userpassword: {SSHA}RFBJ9Y+ClaIwvJCjcJZw8AXLuwo01zNV
userpassword: {SHA}ah8w0pIX2/186d3d3O2mU85BshY=

# Entry 17: uid=user_002,dc=nfd,dc=geo-solutions,dc=it
dn: uid=user_002,dc=nfd,dc=geo-solutions,dc=it
cn: User
mail: cmartinez@scolab.es
mobile: 23423242
objectclass: inetOrgPerson
objectclass: top
postaladdress: Carrer sense nom postal address
sn: 002
street: Carrer sense nom street
telephonenumber: 23423423432
uid: user_002
userpassword: {MD5}8dk60SPGJDgX98DhoUS7VA==
userpassword: {SHA}H071QcdfoYt12GrJNVfBVoqUH8g=

# Entry 18: uid=user_003,dc=nfd,dc=geo-solutions,dc=it
dn: uid=user_003,dc=nfd,dc=geo-solutions,dc=it
cn: User
mail: cesarizq@gmail.com
mobile: 4353452442342
objectclass: inetOrgPerson
objectclass: top
postaladdress: Carrer sense nom postalAddress
sn: 003
street: Carrer sense nom street
telephonenumber: 54646546
uid: user_003
userpassword: {SHA}JVxRTUTHYmM1Y8Ca+V6WY4a/Hi4=

# Entry 19: uid=user_004,dc=nfd,dc=geo-solutions,dc=it
dn: uid=user_004,dc=nfd,dc=geo-solutions,dc=it
cn: User
mail: ces.ar.izq@gmail.com
mobile: 233422134
objectclass: inetOrgPerson
objectclass: top
postaladdress: Carrer sense nom PostalAddress
sn: 004
street: Carrer sense nom street
telephonenumber: 345342342
uid: user_004
userpassword: {MD5}4ghiJe1WFOE2Y1gy493/6A==
userpassword: {SHA}PQ5i0IPJPOnNzobVTNm+lE0M0k8=
userpassword: {SSHA}NGCd7s2HWbMqVUjoI5NhM75kLH7cZiad


LDIFs  (SCOLAB)
===============

http://dev.nfd.geo-solutions.it/

    settings.py
    ===========

        AUTH_LDAP_BIND_DN = "cn=admin,dc=Metroparks,dc=local"
        AUTH_LDAP_BIND_PASSWORD = "kwNw8iqzr9p"
        AUTH_LDAP_USER_SEARCH = LDAPSearch("dc=Metroparks,dc=local",
            ldap.SCOPE_SUBTREE, "(uid=%(user)s)")
        AUTH_LDAP_GROUP_SEARCH


    LDIFF
    ======
# LDIF Export for dc=Metroparks,dc=local
# Server: My LDAP Server (127.0.0.1)
# Search Scope: sub
# Search Filter: (objectClass=*)
# Total Entries: 19
#
# Generated by phpLDAPadmin (http://phpldapadmin.sourceforge.net) on October 4, 2017 11:05 am
# Version: 1.2.2

version: 1

# Entry 1: dc=Metroparks,dc=local
dn: dc=Metroparks,dc=local
dc: Metroparks
o: Metroparks
objectclass: top
objectclass: dcObject
objectclass: organization

# Entry 2: cn=admin,dc=Metroparks,dc=local
dn: cn=admin,dc=Metroparks,dc=local
cn: admin
description: LDAP administrator
objectclass: simpleSecurityObject
objectclass: organizationalRole
userpassword: {SSHA}25WTCgVYQn9o+47oiaN3IcKXavLIz9ip

# Entry 3: ou=groups,dc=Metroparks,dc=local
dn: ou=groups,dc=Metroparks,dc=local
objectclass: organizationalUnit
objectclass: top
ou: groups

# Entry 4: cn=animal_publisher,ou=groups,dc=Metroparks,dc=local
dn: cn=animal_publisher,ou=groups,dc=Metroparks,dc=local
cn: animal_publisher
gidnumber: 503
memberuid: user_003
memberuid: user_004
objectclass: posixGroup
objectclass: top

# Entry 5: cn=animal_writer,ou=groups,dc=Metroparks,dc=local
dn: cn=animal_writer,ou=groups,dc=Metroparks,dc=local
cn: animal_writer
gidnumber: 504
memberuid: user_002
memberuid: user_004
objectclass: posixGroup
objectclass: top

# Entry 6: cn=fungus_publisher,ou=groups,dc=Metroparks,dc=local
dn: cn=fungus_publisher,ou=groups,dc=Metroparks,dc=local
cn: fungus_publisher
gidnumber: 508
memberuid: user_002
objectclass: posixGroup
objectclass: top

# Entry 7: cn=fungus_writer,ou=groups,dc=Metroparks,dc=local
dn: cn=fungus_writer,ou=groups,dc=Metroparks,dc=local
cn: fungus_writer
gidnumber: 507
memberuid: user_001
objectclass: posixGroup
objectclass: top

# Entry 8: cn=naturalarea_publisher,ou=groups,dc=Metroparks,dc=local
dn: cn=naturalarea_publisher,ou=groups,dc=Metroparks,dc=local
cn: naturalarea_publisher
gidnumber: 511
objectclass: posixGroup
objectclass: top

# Entry 9: cn=naturalarea_writer,ou=groups,dc=Metroparks,dc=local
dn: cn=naturalarea_writer,ou=groups,dc=Metroparks,dc=local
cn: naturalarea_writer
gidnumber: 510
objectclass: posixGroup
objectclass: top

# Entry 10: cn=nfdadmins,ou=groups,dc=Metroparks,dc=local
dn: cn=nfdadmins,ou=groups,dc=Metroparks,dc=local
cn: nfdadmins
gidnumber: 509
memberuid: user_004
objectclass: posixGroup
objectclass: top

# Entry 11: cn=plant_publisher,ou=groups,dc=Metroparks,dc=local
dn: cn=plant_publisher,ou=groups,dc=Metroparks,dc=local
cn: plant_publisher
gidnumber: 505
memberuid: user_003
memberuid: user_004
objectclass: posixGroup
objectclass: top

# Entry 12: cn=plant_writer,ou=groups,dc=Metroparks,dc=local
dn: cn=plant_writer,ou=groups,dc=Metroparks,dc=local
cn: plant_writer
gidnumber: 501
memberuid: user_004
memberuid: user_002
objectclass: posixGroup
objectclass: top

# Entry 13: cn=slimemold_publisher,ou=groups,dc=Metroparks,dc=local
dn: cn=slimemold_publisher,ou=groups,dc=Metroparks,dc=local
cn: slimemold_publisher
gidnumber: 506
memberuid: user_002
objectclass: posixGroup
objectclass: top

# Entry 14: cn=slimemold_writer,ou=groups,dc=Metroparks,dc=local
dn: cn=slimemold_writer,ou=groups,dc=Metroparks,dc=local
cn: slimemold_writer
gidnumber: 502
memberuid: user_001
objectclass: posixGroup
objectclass: top

# Entry 15: ou=users,dc=Metroparks,dc=local
dn: ou=users,dc=Metroparks,dc=local
objectclass: organizationalUnit
objectclass: top
ou: users

# Entry 16: uid=user_001,dc=Metroparks,dc=local
dn: uid=user_001,dc=Metroparks,dc=local
cn: User
mail: cesar.izq@gmail.com
mobile: 768687564
objectclass: inetOrgPerson
objectclass: top
postaladdress: Carrer Sense nom
sn: 001
street: Carrer sense nom street
telephonenumber: 23423423424
uid: user_001
userpassword: {MD5}1GHwE8KaE3IAZNraDyEw0Q==
userpassword: {SSHA}RFBJ9Y+ClaIwvJCjcJZw8AXLuwo01zNV
userpassword: {SHA}ah8w0pIX2/186d3d3O2mU85BshY=

# Entry 17: uid=user_002,dc=Metroparks,dc=local
dn: uid=user_002,dc=Metroparks,dc=local
cn: User
mail: cmartinez@scolab.es
mobile: 23423242
objectclass: inetOrgPerson
objectclass: top
postaladdress: Carrer sense nom postal address
sn: 002
street: Carrer sense nom street
telephonenumber: 23423423432
uid: user_002
userpassword: {MD5}8dk60SPGJDgX98DhoUS7VA==
userpassword: {SHA}H071QcdfoYt12GrJNVfBVoqUH8g=

# Entry 18: uid=user_003,dc=Metroparks,dc=local
dn: uid=user_003,dc=Metroparks,dc=local
cn: User
mail: cesarizq@gmail.com
mobile: 4353452442342
objectclass: inetOrgPerson
objectclass: top
postaladdress: Carrer sense nom postalAddress
sn: 003
street: Carrer sense nom street
telephonenumber: 54646546
uid: user_003
userpassword: {SHA}JVxRTUTHYmM1Y8Ca+V6WY4a/Hi4=

# Entry 19: uid=user_004,dc=Metroparks,dc=local
dn: uid=user_004,dc=Metroparks,dc=local
cn: User
mail: ces.ar.izq@gmail.com
mobile: 233422134
objectclass: inetOrgPerson
objectclass: top
postaladdress: Carrer sense nom PostalAddress
sn: 004
street: Carrer sense nom street
telephonenumber: 345342342
uid: user_004
userpassword: {MD5}4ghiJe1WFOE2Y1gy493/6A==
userpassword: {SHA}PQ5i0IPJPOnNzobVTNm+lE0M0k8=
userpassword: {SSHA}NGCd7s2HWbMqVUjoI5NhM75kLH7cZiad
